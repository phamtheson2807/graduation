<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ch√∫c m·ª´ng t√¥i - ng√†y ƒë√°ng nh·ªõ nh·∫•t trong ƒë·ªùi!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="icon"
        href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjOEI1Q0Y2Ii8+CjxwYXRoIGQ9Ik01MCAyNUM2MC40NTcgMjUgNzAgNDAuMTc3IDcwIDUwSDMwQzMwIDQwLjE3NyAzOS41NDMgMjUgNTAgMjVaIiBmaWxsPSJ3aGl0ZSIvPgo8cmVjdCB4PSI0NSIgeT0iNDAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIzNSIgZmlsbD0id2hpdGUiLz4KPHN2ZyB4PSIyMCIgeT0iNjUiIHdpZHRoPSI2MCIgaGVpZ2h0PSIxMCIgZmlsbD0id2hpdGUiLz4KPC9zdmc+">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'vietnamese': ['Arial', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'bounce-slow': 'bounce 2s infinite',
                        'pulse-slow': 'pulse 3s infinite',
                        'fade-in': 'fadeIn 0.8s ease-out',
                        'slide-up': 'slideUp 0.8s ease-out',
                        'gradient': 'gradient 6s ease infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(40px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        gradient: {
                            '0%, 100%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                        }
                    }
                }
            }
        }

        // Smooth scrolling for anchor links
        document.addEventListener('DOMContentLoaded', function() {
            // Smooth scroll for all anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Add scroll reveal animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe all sections for animations
            document.querySelectorAll('section').forEach(section => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(30px)';
                section.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                observer.observe(section);
            });

            // Show admin link only with special parameter
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('admin') === 'access' || urlParams.get('showadmin') === 'true') {
                const adminSection = document.getElementById('adminLinkSection');
                if (adminSection) {
                    adminSection.classList.remove('hidden');
                }
            }
        });
    </script>
</head>

<body class="bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 min-h-screen font-vietnamese">
    <!-- Background Music -->
    <audio id="backgroundMusic" loop>
        <source src="phepmau.mp3" type="audio/mpeg">
    </audio>

    <!-- Music Control Button -->
    <button id="musicToggle" class="fixed top-6 right-6 z-50 bg-gradient-to-r from-pink-500 to-purple-600 text-white p-3 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300 animate-pulse-slow" onclick="toggleMusic()">
        <span class="text-xl">üîä</span>
    </button>

    <!-- Floating Background Elements -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute top-20 left-10 text-4xl animate-float opacity-20">üéì</div>
        <div class="absolute top-40 right-20 text-3xl animate-bounce-slow opacity-20" style="animation-delay: 1s;">‚ú®
        </div>
        <div class="absolute bottom-40 left-20 text-5xl animate-float opacity-20" style="animation-delay: 2s;">üéâ</div>
        <div class="absolute bottom-20 right-10 text-3xl animate-pulse-slow opacity-20" style="animation-delay: 3s;">üí´
        </div>
        <div class="absolute top-60 left-1/2 text-4xl animate-float opacity-20" style="animation-delay: 4s;">üåü</div>
    </div>

    <!-- Main Container -->
    <div class="relative z-10 min-h-screen">

        <!-- Hero Section -->
        <section class="min-h-screen flex flex-col justify-center items-center px-4 py-12">
            <div class="max-w-6xl mx-auto text-center">
                <!-- Main Title -->
                <div class="mb-10">
                    <div class="text-5xl md:text-7xl mb-5 animate-bounce-slow">üéì</div>
                    <h1
                        class="text-4xl md:text-6xl lg:text-7xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-indigo-600 bg-clip-text text-transparent mb-6 leading-tight">
                        Ch√∫c m·ª´ng t√¥i
                    </h1>
                    <div class="text-xl md:text-3xl font-semibold text-gray-600 mb-6">
                        üåü Ng√†y ƒë√°ng nh·ªõ nh·∫•t trong ƒë·ªùi! üåü
                    </div>
                </div>

                <!-- Highlight Card -->
                <div
                    class="bg-white/90 backdrop-blur-lg rounded-3xl p-6 md:p-8 shadow-2xl border border-purple-200 mb-8 transform hover:scale-105 transition-all duration-500">
                    <p class="text-xl md:text-2xl text-purple-700 font-bold mb-3">
                        ‚ú® Cu·ªëi c√πng t√¥i c≈©ng ƒë√£ l√†m ƒë∆∞·ª£c! ‚ú®
                    </p>
                    <p class="text-base md:text-lg text-gray-700 leading-relaxed">
                        H√¥m nay l√† ng√†y ƒë·∫∑c bi·ªát nh·∫•t c·ªßa t√¥i.<br>
                        T·ª´ gi·ªù t√¥i ch√≠nh th·ª©c tr·ªü th√†nh c·ª≠ nh√¢n!
                    </p>
                </div>
            </div>
        </section>

        <!-- Thank You & Memories Section -->
        <section id="thank-you" class="py-20 bg-gradient-to-br from-pink-50/50 to-indigo-50/50">
            <div class="container mx-auto px-4">
                <div class="max-w-7xl mx-auto">
                    <!-- Section Header -->
                    <div class="text-center mb-12">
                        <div class="text-4xl mb-4">üíå</div>
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Nh·ªØng l·ªùi tri √¢n s√¢u s·∫Øc</h2>
                        <div class="w-24 h-1 bg-gradient-to-r from-pink-500 to-purple-600 mx-auto rounded-full"></div>
                    </div>

                    <!-- Two Column Layout -->
                    <div class="grid lg:grid-cols-2 gap-12 items-center">
                        <!-- Left Column - Thank You Content -->
                        <div class="space-y-8">
                            <p class="text-lg text-gray-600 leading-relaxed">
                                G·ª≠i l·ªùi c·∫£m ∆°n ch√¢n th√†nh ƒë·∫øn nh·ªØng ng∆∞·ªùi quan tr·ªçng ƒë√£ lu√¥n ·ªü b√™n t√¥i
                            </p>

                            <!-- Thank You Cards -->
                            <div class="space-y-6">
                                <!-- Card 1: Family -->
                                <div
                                    class="bg-white/90 backdrop-blur-lg rounded-2xl p-6 shadow-xl border border-purple-100 transform hover:scale-105 transition-all duration-500">
                                    <div class="flex items-center mb-4">
                                        <div class="text-3xl mr-4">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                                        <h3 class="text-xl font-bold text-purple-700">Gia ƒë√¨nh</h3>
                                    </div>
                                    <p class="text-gray-700 leading-relaxed text-sm">
                                        C·∫£m ∆°n gia ƒë√¨nh ƒë√£ cho t√¥i t√¨nh y√™u th∆∞∆°ng v√¥ b·ªù v√† l√† ngu·ªìn ƒë·ªông vi√™n m·∫°nh m·∫Ω
                                        nh·∫•t.
                                    </p>
                                </div>

                                <!-- Card 2: Teachers -->
                                <div
                                    class="bg-white/90 backdrop-blur-lg rounded-2xl p-6 shadow-xl border border-purple-100 transform hover:scale-105 transition-all duration-500">
                                    <div class="flex items-center mb-4">
                                        <div class="text-3xl mr-4">üë®‚Äçüè´</div>
                                        <h3 class="text-xl font-bold text-purple-700">Th·∫ßy c√¥</h3>
                                    </div>
                                    <p class="text-gray-700 leading-relaxed text-sm">
                                        C·∫£m ∆°n c√°c th·∫ßy c√¥ ƒë√£ t·∫≠n t√¢m gi·∫£ng d·∫°y v√† ch·ªâ b·∫£o t√¥i th√†nh ng∆∞·ªùi c√≥ √≠ch.
                                    </p>
                                </div>

                                <!-- Card 3: Friends -->
                                <div
                                    class="bg-white/90 backdrop-blur-lg rounded-2xl p-6 shadow-xl border border-purple-100 transform hover:scale-105 transition-all duration-500">
                                    <div class="flex items-center mb-4">
                                        <div class="text-3xl mr-4">üë´</div>
                                        <h3 class="text-xl font-bold text-purple-700">B·∫°n b√®</h3>
                                    </div>
                                    <p class="text-gray-700 leading-relaxed text-sm">
                                        C·∫£m ∆°n nh·ªØng ng∆∞·ªùi b·∫°n th√¢n ƒë√£ c√πng t√¥i v∆∞·ª£t qua bao kh√≥ khƒÉn v√† t·∫°o n√™n nh·ªØng
                                        k·ª∑ ni·ªám tuy·ªát v·ªùi.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Right Column - Image Slideshow -->
                        <div class="relative">
                            <div
                                class="bg-white/90 backdrop-blur-lg rounded-3xl p-6 shadow-2xl border border-purple-200">
                                <div
                                    class="relative aspect-square overflow-hidden rounded-2xl bg-gradient-to-br from-purple-100 to-pink-100">
                                    <!-- Slideshow Container -->
                                    <div id="memory-slideshow" class="relative w-full h-full">
                                        <!-- Images will be dynamically loaded here -->
                                        <div class="absolute inset-0 flex items-center justify-center text-gray-400">
                                            <div class="text-center">
                                                <div class="text-6xl mb-4">üì∏</div>
                                                <p class="text-lg">ƒêang t·∫£i k·ª∑ ni·ªám...</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Slideshow indicators -->
                                    <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2"
                                        id="slideshow-indicators">
                                        <!-- Indicators will be added dynamically -->
                                    </div>
                                </div>

                                <!-- Caption -->
                                <div class="mt-4 text-center">
                                    <p class="text-gray-600 italic" id="slideshow-caption">Nh·ªØng kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Final Message -->
                    <div class="mt-12">
                        <div
                            class="bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl p-6 md:p-8 text-white text-center shadow-2xl">
                            <div class="text-3xl mb-4">üéìüíñ</div>
                            <h3 class="text-xl md:text-2xl font-bold mb-4">M·ªôt c·ªôt m·ªëc quan tr·ªçng, m·ªôt kh·ªüi ƒë·∫ßu m·ªõi tr√†n
                                ƒë·∫ßy hy v·ªçng</h3>
                            <p class="text-base md:text-lg leading-relaxed max-w-4xl mx-auto">
                                Ng√†y h√¥m nay kh√¥ng ch·ªâ ƒë√°nh d·∫•u s·ª± k·∫øt th√∫c c·ªßa qu√£ng ƒë·ªùi sinh vi√™n, m√† c√≤n m·ªü ra
                                m·ªôt ch∆∞∆°ng m·ªõi ƒë·∫ßy th√∫ v·ªã trong cu·ªôc ƒë·ªùi t√¥i. Xin ch√¢n th√†nh c·∫£m ∆°n t·∫•t c·∫£! üíñ
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gallery Preview Section -->
        <section id="gallery" class="py-20 bg-gradient-to-br from-purple-50/50 to-pink-50/50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <div class="text-4xl mb-4">üì∏</div>
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Nh·ªØng kho·∫£nh kh·∫Øc v√†ng</h2>
                    <p class="text-lg text-gray-600 mb-6 max-w-3xl mx-auto">
                        L∆∞u gi·ªØ nh·ªØng h√¨nh ·∫£nh ƒë·∫πp nh·∫•t trong ng√†y t·ªët nghi·ªáp ƒë·∫∑c bi·ªát n√†y
                    </p>
                    <div class="w-24 h-1 bg-gradient-to-r from-pink-500 to-purple-600 mx-auto rounded-full"></div>
                </div>

                <!-- Gallery Grid -->
                <div class="max-w-7xl mx-auto">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Loading spinner -->
                        <div class="col-span-full text-center py-16" id="gallery-loading">
                            <div
                                class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-200 border-t-purple-600 mb-6">
                            </div>
                            <p class="text-gray-600 text-lg">ƒêang t·∫£i nh·ªØng kho·∫£nh kh·∫Øc ƒë·∫πp...</p>
                        </div>
                    </div>

                    <!-- View All Button -->
                    <div class="text-center mt-12">
                        <a href="gallery.html"
                            class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-full shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 text-lg group">
                            <span class="mr-2 group-hover:animate-bounce">üîç</span>
                            Xem t·∫•t c·∫£ ·∫£nh
                            <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Inspirational Quote Section -->
        <section class="py-20 bg-white/30 backdrop-blur-sm">
            <div class="container mx-auto px-4">
                <div class="max-w-5xl mx-auto">
                    <div
                        class="bg-gradient-to-br from-white/90 to-purple-50/90 backdrop-blur-lg rounded-3xl p-8 md:p-16 shadow-2xl border border-purple-200 relative overflow-hidden">
                        <!-- Decorative elements -->
                        <div
                            class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-pink-500 via-purple-600 to-indigo-600">
                        </div>
                        <div class="absolute -top-10 -right-10 w-32 h-32 bg-purple-200/30 rounded-full blur-2xl"></div>
                        <div class="absolute -bottom-10 -left-10 w-32 h-32 bg-pink-200/30 rounded-full blur-2xl"></div>

                        <div class="relative z-10 text-center">
                            <div class="text-6xl md:text-7xl text-purple-300/60 mb-6 leading-none">"</div>
                            <blockquote
                                class="text-xl md:text-2xl lg:text-3xl text-gray-700 font-medium leading-relaxed mb-8 italic">
                                Th√†nh c√¥ng c·ªßa h√¥m nay l√† k·∫øt qu·∫£ c·ªßa s·ª± n·ªó l·ª±c kh√¥ng ng·ª´ng,<br class="hidden md:block">
                                v√† t√¨nh y√™u th∆∞∆°ng t·ª´ nh·ªØng ng∆∞·ªùi lu√¥n b√™n c·∫°nh t√¥i.
                            </blockquote>
                            <div class="flex justify-center items-center space-x-3">
                                <span class="text-3xl">üíù</span>
                                <span class="text-3xl">üéì</span>
                                <span class="text-3xl">‚ú®</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-white/80 backdrop-blur-lg py-16">
            <div class="container mx-auto px-4">
                <div class="max-w-4xl mx-auto text-center">
                    <!-- Main Footer Content -->
                    <div
                        class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-3xl p-6 md:p-8 shadow-xl border border-purple-100 mb-6">
                        <div class="text-4xl mb-4">üéì</div>
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-3">Ng√†y t·ªët nghi·ªáp 2025</h3>
                        <p class="text-base text-gray-600 mb-4">Made with ‚ù§Ô∏è and lots of coffee ‚òï</p>

                        <!-- Stats -->
                        <div class="grid grid-cols-3 gap-3 max-w-sm mx-auto mb-6">
                            <div class="text-center">
                                <div class="text-xl font-bold text-purple-600">4</div>
                                <div class="text-xs text-gray-500">NƒÉm ƒë·∫°i h·ªçc</div>
                            </div>
                            <div class="text-center">
                                <div class="text-xl font-bold text-pink-600">‚àû</div>
                                <div class="text-xs text-gray-500">K·ª∑ ni·ªám ƒë·∫πp</div>
                            </div>
                            <div class="text-center">
                                <div class="text-xl font-bold text-indigo-600">üíØ</div>
                                <div class="text-xs text-gray-500">Ni·ªÅm t·ª± h√†o</div>
                            </div>
                        </div>

                        <!-- Navigation Links -->
                        <div class="flex flex-wrap justify-center gap-3 mb-6">
                            <a href="gallery.html"
                                class="inline-flex items-center px-4 py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-full transition-all duration-300 transform hover:scale-105 text-sm">
                                <span class="mr-1">üì∏</span>
                                Gallery ƒë·∫ßy ƒë·ªß
                            </a>
                            <a href="#thank-you"
                                class="inline-flex items-center px-4 py-2 bg-pink-100 hover:bg-pink-200 text-pink-700 rounded-full transition-all duration-300 transform hover:scale-105 text-sm">
                                <span class="mr-1">üíå</span>
                                L·ªùi c·∫£m ∆°n
                            </a>
                            <a href="#" onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;"
                                class="inline-flex items-center px-4 py-2 bg-indigo-100 hover:bg-indigo-200 text-indigo-700 rounded-full transition-all duration-300 transform hover:scale-105 text-sm">
                                <span class="mr-1">‚¨ÜÔ∏è</span>
                                Quay l√™n ƒë·∫ßu
                            </a>
                        </div>
                    </div>

                    <!-- Admin Link - Hidden for public users -->
                    <div class="border-t border-gray-200 pt-6 hidden" id="adminLinkSection">
                        <a href="admin.html"
                            class="inline-flex items-center text-sm text-gray-400 hover:text-purple-600 transition-all duration-300 group">
                            <svg class="w-4 h-4 mr-2 group-hover:rotate-12 transition-transform" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                                </path>
                            </svg>
                            Qu·∫£n l√Ω ·∫£nh
                        </a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modal for full-size images -->
    <div id="imageModal" class="fixed inset-0 bg-black/90 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="relative max-w-4xl max-h-full">
            <button class="absolute top-4 right-4 text-white text-4xl hover:text-gray-300 transition-colors z-10" onclick="closeModal()">
                √ó
            </button>
            <img id="modalImage" class="max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl">
            <div id="caption"
                class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent text-white p-6 rounded-b-lg">
                <p class="text-lg font-medium"></p>
            </div>
            <div class="absolute top-1/2 left-4 transform -translate-y-1/2">
                <button id="prevBtn" class="bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-all duration-300 backdrop-blur-sm">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
            </div>
            <div class="absolute top-1/2 right-4 transform -translate-y-1/2">
                <button id="nextBtn" class="bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-all duration-300 backdrop-blur-sm">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Load API Config First -->
    <script src="api-config.js"></script>
    <script src="script.js"></script>

    <!-- Memory Slideshow Script -->
    <script>
        let currentSlide = 0;
        let slideshowImages = [];
        let slideshowInterval;
        let memoryData = [];
        
        // Wait for PhotoAPI to be available
        function waitForPhotoAPI() {
            return new Promise((resolve) => {
                const checkAPI = () => {
                    if (typeof window.photoAPI !== 'undefined') {
                        console.log('Slideshow: PhotoAPI is available');
                        resolve();
                    } else {
                        console.log('Slideshow: Waiting for PhotoAPI...');
                        setTimeout(checkAPI, 500);
                    }
                };
                checkAPI();
            });
        }
        
        // Load photos from backend for slideshow
        async function loadMemoryPhotos() {
            try {
                // Wait for PhotoAPI to be available first
                await waitForPhotoAPI();
                
                // Use PhotoAPI to get photos
                let photos = [];
                if (window.photoAPI) {
                    try {
                        const result = await window.photoAPI.getPhotos();
                        if (result && result.success && result.photos && result.photos.length > 0) {
                            photos = result.photos.map(photo => ({
                                ...photo,
                                src: photo.src.startsWith('http') ? photo.src : window.photoAPI.getImageURL(photo.src)
                            }));
                            console.log('Slideshow: Loaded photos from backend:', photos.length);
                        } else {
                            console.log('Slideshow: No photos in backend response:', result);
                        }
                    } catch (error) {
                        console.log('Slideshow: Backend fetch error:', error);
                    }
                } else {
                    console.log('Slideshow: PhotoAPI not available');
                }
                
                // Only proceed if we have photos from backend
                if (photos.length > 0) {
                    memoryData = photos.slice(0, 6).map((photo, index) => {
                        return {
                            src: photo.src,
                            caption: photo.title || photo.caption || `K·ª∑ ni·ªám t·ªët nghi·ªáp ${index + 1}`
                        };
                    });
                    
                    console.log('Slideshow: Using backend photos:', memoryData.length);
                } else {
                    // No photos available - show placeholder
                    console.log('Slideshow: No photos available from backend');
                    memoryData = [];
                }
                
                console.log('Slideshow: Memory data prepared:', memoryData.length, 'images');
                return memoryData;
                
            } catch (error) {
                console.error('Slideshow: Error loading memory photos:', error);
                memoryData = [];
                return memoryData;
            }
        }
        
        async function initializeSlideshow() {
            const slideshowContainer = document.getElementById('memory-slideshow');
            const indicatorsContainer = document.getElementById('slideshow-indicators');
            
            if (!slideshowContainer || !indicatorsContainer) return;
            
            // Load photos from backend first
            await loadMemoryPhotos();
            
            if (memoryData.length === 0) {
                console.log('Slideshow: No photos available, showing placeholder');
                // Show placeholder message
                slideshowContainer.innerHTML = `
                    <div class="absolute inset-0 flex items-center justify-center text-gray-400">
                        <div class="text-center">
                            <div class="text-6xl mb-4">üì∏</div>
                            <p class="text-lg">Ch∆∞a c√≥ ·∫£nh k·ª∑ ni·ªám</p>
                            <p class="text-sm mt-2">H√£y upload ·∫£nh ƒë·ªÉ hi·ªÉn th·ªã slideshow</p>
                        </div>
                    </div>
                `;
                indicatorsContainer.innerHTML = '';
                return;
            }
            
            // Clear existing content
            slideshowContainer.innerHTML = '';
            indicatorsContainer.innerHTML = '';
            
            // Create slides
            memoryData.forEach((item, index) => {
                // Create slide
                const slide = document.createElement('div');
                slide.className = `absolute inset-0 transition-opacity duration-1000 ${index === 0 ? 'opacity-100' : 'opacity-0'}`;
                slide.innerHTML = `
                    <img src="${item.src}" 
                         alt="${item.caption}" 
                         class="w-full h-full object-cover rounded-2xl"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yMDAgMTAwQzI0NC4xODMgMTAwIDI4MCAyMjEuMTc3IDI4MCAyNjVIMTIwQzEyMCAyMjEuMTc3IDE1NS44MTcgMTAwIDIwMCAxMDBaIiBmaWxsPSIjOUIzOUY0Ii8+CjxjaXJjbGUgY3g9IjIwMCIgY3k9IjE4MCIgcj0iMzAiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo='; this.parentElement.innerHTML='<div class=\\"flex items-center justify-center h-full text-purple-400\\"><div class=\\"text-center\\"><div class=\\"text-4xl mb-2\\">üì∏</div><p>·∫¢nh l·ªói</p></div></div>'">
                `;
                slideshowContainer.appendChild(slide);
                
                // Create indicator
                const indicator = document.createElement('button');
                indicator.className = `w-3 h-3 rounded-full transition-all duration-300 ${index === 0 ? 'bg-white' : 'bg-white/50'}`;
                indicator.onclick = () => goToSlide(index);
                indicatorsContainer.appendChild(indicator);
            });
            
            slideshowImages = slideshowContainer.querySelectorAll('div');
            
            // Update caption
            updateCaption();
            
            // Start slideshow
            startSlideshow();
        }
        
        function goToSlide(index) {
            // Hide current slide
            if (slideshowImages[currentSlide]) {
                slideshowImages[currentSlide].classList.remove('opacity-100');
                slideshowImages[currentSlide].classList.add('opacity-0');
            }
            
            // Update indicators
            const indicators = document.querySelectorAll('#slideshow-indicators button');
            if (indicators[currentSlide]) {
                indicators[currentSlide].classList.remove('bg-white');
                indicators[currentSlide].classList.add('bg-white/50');
            }
            
            // Show new slide
            currentSlide = index;
            if (slideshowImages[currentSlide]) {
                slideshowImages[currentSlide].classList.remove('opacity-0');
                slideshowImages[currentSlide].classList.add('opacity-100');
            }
            
            // Update indicator
            if (indicators[currentSlide]) {
                indicators[currentSlide].classList.remove('bg-white/50');
                indicators[currentSlide].classList.add('bg-white');
            }
            
            // Update caption
            updateCaption();
        }
        
        function nextSlide() {
            const nextIndex = (currentSlide + 1) % memoryData.length;
            goToSlide(nextIndex);
        }
        
        function updateCaption() {
            const captionElement = document.getElementById('slideshow-caption');
            if (captionElement && memoryData[currentSlide]) {
                captionElement.textContent = memoryData[currentSlide].caption;
            }
        }
        
        function startSlideshow() {
            // Clear existing interval
            if (slideshowInterval) {
                clearInterval(slideshowInterval);
            }
            
            // Start new interval (change slide every 4 seconds)
            slideshowInterval = setInterval(nextSlide, 4000);
        }
        
        function stopSlideshow() {
            if (slideshowInterval) {
                clearInterval(slideshowInterval);
            }
        }
        
        // Initialize slideshow when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Start immediately since we have waitForApiConfig logic
            setTimeout(initializeSlideshow, 1000);
        });
        
        // Pause slideshow when user hovers over it
        document.addEventListener('DOMContentLoaded', function() {
            const slideshowContainer = document.getElementById('memory-slideshow');
            if (slideshowContainer) {
                slideshowContainer.addEventListener('mouseenter', stopSlideshow);
                slideshowContainer.addEventListener('mouseleave', startSlideshow);
            }
        });
    </script>
</body>

</html>